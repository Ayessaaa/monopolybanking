<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="main2.js"></script>
    <link rel="stylesheet" href="index.css" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Monopoly Banking</title>
  </head>
  <body>
    <img src="players3.png" class="players" />
    <table class="table">
      <tr>
        <td>
          <div class="player_div">
            <div class="name_div" id="pd1">
              <table class="player_name_table">
                <tr>
                  <td><textarea maxlength="15" placeholder="Player 1" class="name" id="name1"></textarea></td>
                </tr>
              </table>
            </div>
            <div class="scan_div">
              <img src="" id="card1" />

              <p class="scan_text" id="text1">Tap to Scan Card</p>
            </div>
          </div>
        </td>
        <td>
          <div class="player_div">
            <div class="name_div" id="pd2">
              <table class="player_name_table">
                <tr>
                  <td><textarea maxlength="15" placeholder="Player 2" class="name" id="name2"></textarea></td>
                </tr>
              </table>
            </div>

            <div class="scan_div">
              <img src="" id="card2" />
              <p class="scan_text" id="text2">Tap to Scan Card</p>
            </div>
          </div>
        </td>
        <td>
          <div class="player_div">
            <div class="name_div" id="pd3">
              <table class="player_name_table">
                <tr>
                  <td><textarea maxlength="15" placeholder="Player 3" class="name" id="name3"></textarea></td>
                </tr>
              </table>
            </div>

            <div class="scan_div">
              <img src="3.png" id="card3" />
              <p class="scan_text" id="text3">Tap to Scan Card</p>
            </div>
          </div>
        </td>
        <td>
          <div class="player_div">
            <div class="name_div" id="pd4">
              <table class="player_name_table">
                <tr>
                  <td><textarea maxlength="15" placeholder="Player 4" class="name" id="name4"></textarea></td>
                </tr>
              </table>
            </div>

            <div class="scan_div">
              <img src="4.png" id="card4" />
              <p class="scan_text" id="text4">Tap to Scan Card</p>
            </div>
          </div>
        </td>
        <td>
          <div class="player_div">
            <div class="name_div" id="pd5">
              <table class="player_name_table">
                <tr>
                  <td><textarea maxlength="15" placeholder="Player 5" class="name" id="name5"></textarea></td>
                </tr>
              </table>
            </div>

            <div class="scan_div">
              <img src="5.png" id="card5" />
              <p class="scan_text" id="text5">Tap to Scan Card</p>
            </div>
          </div>
        </td>
      </tr>
      <tr>
        <td>
          <div class="player_div">
            <div class="name_div" id="pd6">
              <table class="player_name_table">
                <tr>
                  <td><textarea maxlength="15" placeholder="Player 6" class="name" id="name6"></textarea></td>
                </tr>
              </table>
            </div>

            <div class="scan_div">
              <img src="6.png" id="card6" />
              <p class="scan_text" id="text6">Tap to Scan Card</p>
            </div>
          </div>
        </td>
        <td>
          <div class="player_div">
            <div class="name_div" id="pd7">
              <table class="player_name_table">
                <tr>
                  <td><textarea maxlength="15" placeholder="Player 7" class="name" id="name7"></textarea></td>
                </tr>
              </table>
            </div>

            <div class="scan_div">
              <img src="7.png" id="card7" />
              <p class="scan_text" id="text7">Tap to Scan Card</p>
            </div>
          </div>
        </td>
        <td>
          <div class="player_div">
            <div class="name_div" id="pd8">
              <table class="player_name_table">
                <tr>
                  <td><textarea maxlength="15" placeholder="Player 8" class="name" id="name8"></textarea></td>
                </tr>
              </table>
            </div>

            <div class="scan_div">
              <img src="8.png" id="card8" />
              <p class="scan_text" id="text8">Tap to Scan Card</p>
            </div>
          </div>
        </td>
        <td>
          <div class="player_div">
            <div class="name_div" id="pd9">
              <table class="player_name_table">
                <tr>
                  <td><textarea maxlength="15" placeholder="Player 9" class="name" id="name9"></textarea></td>
                </tr>
              </table>
            </div>

            <div class="scan_div">
              <img src="9.png" id="card9" />
              <p class="scan_text" id="text9">Tap to Scan Card</p>
            </div>
          </div>
        </td>
        <td>
          <div class="player_div">
            <div class="name_div" id="pd10">
              <table class="player_name_table">
                <tr>
                  <td><textarea maxlength="15" placeholder="Player 10" class="name" id="name10"></textarea></td>
                </tr>
              </table>
            </div>

            <div class="scan_div">
              <img src="10.png" id="card10" />
              <p class="scan_text" id="text10">Tap to Scan Card</p>
            </div>
          </div>
        </td>
      </tr>
    </table>

    <script>
      function nextpage() {
        window.location.href = "transfer.html";
      }
    </script>

    <div class="start_div" id="submit_btn" onclick="nextpage()">
      <p>START GAME</p>
    </div>

    <input id="rfid_input" type="number" />

    <script>
      fetch(
        "https://303o2i3if5.execute-api.ap-southeast-1.amazonaws.com/v1/reset-players",
        {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({}),
        }
      )
        .then((response) => response.json())
        .then((data) => console.log(data))
        .catch((error) => console.error("Error:", error));

      // define the callAPI function that takes a first name and last name as parameters
      var callAPI = (pnumber, prfid, pname) => {
        event.preventDefault();
        // instantiate a headers object
        var myHeaders = new Headers();
        // add content type header to object
        myHeaders.append("Content-Type", "application/json");
        // using built in JSON utility package turn object to string and store in a variable
        var raw = JSON.stringify({
          player_number: pnumber,
          player_rfid: prfid,
          player_name: pname
        });
        // create a JSON object with parameters for API call and store in a variable
        var requestOptions = {
          method: "POST",
          headers: myHeaders,
          body: raw,
          redirect: "follow",
        };
        // make API call with parameters and use promises to get response
        fetch(
          "https://303o2i3if5.execute-api.ap-southeast-1.amazonaws.com/v1/scan-player",
          requestOptions
        )
          .then((response) => response.text())
          .catch((error) => console.log("error", error));
      };
    </script>
  </body>
</html>
